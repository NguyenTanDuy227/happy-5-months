<!DOCTYPE html>
<html lang="vi">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Happy 5 Months ‚ù§Ô∏è</title>
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Noto+Color+Emoji&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap"
            rel="stylesheet"
        />
        <style>
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            body {
                font-family: 'Noto Color Emoji', sans-serif;
                font-weight: 400;
                font-style: normal;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                min-height: 100vh;
                overflow-x: hidden;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .page {
                display: none;
                min-height: 100vh;
                padding: 20px;
                animation: fadeIn 0.6s ease-in;
                position: relative;
                z-index: 10;
            }

            .page.active {
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
            }

            @keyframes fadeIn {
                from {
                    opacity: 0;
                }
                to {
                    opacity: 1;
                }
            }

            /* Page 1 Styles */
            .qr-container {
                background: white;
                padding: 40px;
                border-radius: 20px;
                box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
                text-align: center;
                max-width: 400px;
            }

            .qr-code {
                width: 250px;
                height: 250px;
                margin: 20px auto;
                background: #f0f0f0;
                border: 3px solid #764ba2;
                border-radius: 15px;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 14px;
                color: #666;
            }

            .qr-code img {
                width: 100%;
                height: 100%;
                object-fit: cover;
                border-radius: 12px;
            }

            .scan-text {
                font-size: 28px;
                font-weight: bold;
                color: #764ba2;
                margin-top: 20px;
                animation: pulse 2s infinite;
            }

            @keyframes pulse {
                0%,
                100% {
                    transform: scale(1);
                }
                50% {
                    transform: scale(1.05);
                }
            }

            .arrow-button {
                margin-top: 40px;
                padding: 15px 40px;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                border: none;
                border-radius: 50px;
                font-size: 18px;
                cursor: pointer;
                animation: blink 1.5s infinite;
                box-shadow: 0 10px 30px rgba(118, 75, 162, 0.4);
                transition: transform 0.3s;
                touch-action: manipulation;
            }

            .arrow-button:active {
                transform: scale(0.95);
            }

            @keyframes blink {
                0%,
                100% {
                    opacity: 1;
                }
                50% {
                    opacity: 0.7;
                }
            }

            /* Letter Styles */
            .letter-overlay {
                display: none;
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.8);
                z-index: 1000;
                align-items: center;
                justify-content: center;
            }

            .letter-overlay.show {
                display: flex;
                animation: fadeIn 0.5s;
            }

            .envelope {
                width: 300px;
                height: 200px;
                position: relative;
                cursor: pointer;
                animation: float 3s ease-in-out infinite;
                will-change: transform;
            }

            @keyframes float {
                0%,
                100% {
                    transform: translateY(0px);
                }
                50% {
                    transform: translateY(-15px);
                }
            }

            .envelope-body {
                position: absolute;
                left: 0;
                width: 300px;
                height: 150px;
                background: #f5f5f5;
                border: 2px solid #ddd;
                border-top: none;
            }

            .envelope-body::before {
                content: '‚ù§Ô∏è';
                position: absolute;
                top: 30px;
                left: 50%;
                transform: translateX(-50%);
                font-size: 24px;
                z-index: 100;
                animation: heartBeat 1.5s ease-in-out infinite;
            }

            @keyframes heartBeat {
                0%,
                100% {
                    transform: translateX(-50%) scale(1);
                    opacity: 1;
                }
                50% {
                    transform: translateX(-50%) scale(1.15);
                    opacity: 0.8;
                }
            }

            .envelope-bottom {
                position: absolute;
                bottom: 50px;
                left: 0;
                width: 0;
                height: 0;
                border-left: 150px solid #f5f5f5;
                border-right: 150px solid #f5f5f5;
                border-bottom: 100px solid #dcdcdc;
                z-index: 10;
                transform: translateY(50px);
                border-radius: 0 0 5px 5px;
            }

            .envelope-flap {
                width: 0;
                height: 0;
                border-left: 150px solid transparent;
                border-right: 150px solid transparent;
                border-top: 100px solid #fff;
                position: absolute;
                top: 0;
                left: 0;
                transition: transform 1s, border-top-color 1s;
                transform-origin: top;
                z-index: 20;
                filter: drop-shadow(0 2px 2px rgba(0, 0, 0, 0.1));
            }

            .envelope.open .envelope-flap {
                transform: rotateX(180deg);
                border-top-color: #f5f5f5;
            }

            .letter-content {
                display: none;
                background: white;
                padding: 40px;
                border-radius: 15px;
                max-width: 600px;
                max-height: 80vh;
                overflow-y: auto;
                box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
                animation: slideUp 1s;
                -webkit-overflow-scrolling: touch;
            }

            .letter-content.show {
                display: block;
            }

            @keyframes slideUp {
                from {
                    opacity: 0;
                    transform: translateY(50px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

            .letter-content h2 {
                color: #764ba2;
                margin-bottom: 20px;
                font-size: 24px;
            }

            .letter-content p {
                line-height: 1.8;
                color: #333;
                margin-bottom: 15px;
                text-align: justify;
            }

            .letter-content .signature {
                text-align: right;
                font-weight: bold;
                color: #764ba2;
                margin-top: 30px;
                font-style: italic;
            }

            /* Page 2 - Gallery */
            .gallery-container {
                width: 100%;
                max-width: 1200px;
                padding: 20px;
            }

            .gallery-title {
                text-align: center;
                color: white;
                font-size: 36px;
                margin-bottom: 30px;
                text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            }

            .photo-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                gap: 20px;
                margin-top: 30px;
            }

            .photo-card {
                background: white;
                border-radius: 15px;
                overflow: hidden;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
                transition: transform 0.3s, box-shadow 0.3s;
                animation: slideIn 0.6s ease-out backwards;
            }

            .photo-card:nth-child(1) {
                animation-delay: 0.1s;
            }
            .photo-card:nth-child(2) {
                animation-delay: 0.2s;
            }
            .photo-card:nth-child(3) {
                animation-delay: 0.3s;
            }

            @keyframes slideIn {
                from {
                    opacity: 0;
                    transform: translateY(30px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

            .photo-card:active {
                transform: scale(0.98);
            }

            .photo-placeholder {
                width: 100%;
                height: 400px;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                display: flex;
                align-items: center;
                justify-content: center;
                color: white;
                font-size: 16px;
                text-align: center;
                padding: 20px;
            }

            /* Optimized hearts animation - reduced frequency */
            .hearts-animation {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                pointer-events: none;
                z-index: 1;
            }

            .heart {
                position: absolute;
                font-size: 30px;
                animation: float-heart 5s ease-in infinite;
                opacity: 0;
                will-change: transform;
            }

            @keyframes float-heart {
                0% {
                    transform: translateY(100vh) rotate(0deg);
                    opacity: 1;
                }
                100% {
                    transform: translateY(-100px) rotate(360deg);
                    opacity: 0;
                }
            }

            .music-control {
                position: fixed;
                bottom: 20px;
                right: 20px;
                background: white;
                border-radius: 50%;
                width: 60px;
                height: 60px;
                display: flex;
                align-items: center;
                justify-content: center;
                cursor: pointer;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
                z-index: 1001;
                transition: transform 0.3s;
                touch-action: manipulation;
            }

            .music-control:active {
                transform: scale(0.9);
            }

            .music-control.playing {
                animation: rotate 3s linear infinite;
            }

            @keyframes rotate {
                from {
                    transform: rotate(0deg);
                }
                to {
                    transform: rotate(360deg);
                }
            }

            @media (max-width: 768px) {
                .letter-content {
                    padding: 30px 20px;
                    max-width: 90%;
                }

                .qr-container {
                    padding: 30px 20px;
                }

                .gallery-title {
                    font-size: 28px;
                }

                .photo-grid {
                    grid-template-columns: 1fr;
                }

                .envelope {
                    width: 250px;
                    height: 167px;
                }

                .envelope-body {
                    width: 250px;
                    height: 125px;
                }

                .envelope-flap {
                    border-left: 125px solid transparent;
                    border-right: 125px solid transparent;
                    border-top: 83px solid #fff;
                }

                .envelope-bottom {
                    border-left: 125px solid #f5f5f5;
                    border-right: 125px solid #f5f5f5;
                    border-bottom: 83px solid #dcdcdc;
                }
            }
        </style>
    </head>
    <body>
        <!-- Hearts Animation -->
        <div class="hearts-animation" id="heartsContainer"></div>

        <!-- Music Control -->
        <div class="music-control" id="musicControl" title="Ph√°t/T·∫Øt nh·∫°c">üéµ</div>

        <!-- Page 1 -->
        <div class="page active" id="page1">
            <div class="qr-container">
                <div class="qr-code">
                    <img width="250" height="250" src="images/main-page/qr.jpg" alt="QR Code" loading="lazy" />
                </div>
                <div class="scan-text">Qu√©t Em ƒêi ‚ù§Ô∏è</div>
                <button class="arrow-button" onclick="showLetter()">üëâ Nh·∫•n v√†o ƒë√¢y n√® üëà</button>
            </div>
        </div>

        <!-- Letter Overlay -->
        <div class="letter-overlay" id="letterOverlay">
            <div class="envelope" id="envelope" onclick="openLetter()">
                <div class="envelope-flap"></div>
                <div class="envelope-body"></div>
            </div>
            <div class="letter-content" id="letterContent">
                <h2>Xin ch√†o anh b√© y√™u c·ªßa em,</h2>
                <p>
                    H√¥m nay tr√≤n 5 th√°ng ch√∫ng m√¨nh b√™n nhau---m·ªôt kho·∫£ng th·ªùi gian kh√¥ng d√†i, nh∆∞ng ƒë·ªß ƒë·ªÉ tr√°i tim em
                    quen v·ªõi s·ª± hi·ªán di·ªán c·ªßa anh, d√π ch·ªâ qua nh·ªØng tin nh·∫Øn, nh·ªØng cu·ªôc g·ªçi v√† nh·ªØng y√™u th∆∞∆°ng t·ª´ xa.
                    Y√™u xa ƒë√¥i khi l√† nh·ªØng ƒë√™m d√†i h∆°n m·ªôt ch√∫t, nh·ªØng nhung nh·ªõ nhi·ªÅu h∆°n m·ªôt ch√∫t... nh∆∞ng c≈©ng ch√≠nh
                    v√¨ th·∫ø m√† m·ªói kho·∫£nh kh·∫Øc ch√∫ng m√¨nh c√≥ c√πng nhau ƒë·ªÅu tr·ªü n√™n qu√Ω gi√° v√† ch√¢n th√†nh h∆°n r·∫•t nhi·ªÅu.
                </p>

                <p>
                    Noel nƒÉm nay l√† Noel ƒë·∫ßu ti√™n c·ªßa ch√∫ng m√¨nh. D√π kh√¥ng ƒë∆∞·ª£c n·∫Øm tay anh ƒëi gi·ªØa ph·ªë ƒë√®n hoa hay t·ª±a
                    v√†o vai anh nghe nh·ªØng b·∫£n nh·∫°c Gi√°ng sinh, nh∆∞ng tim em v·∫´n ƒë·∫ßy √°nh s√°ng---v√¨ em bi·∫øt ·ªü m·ªôt n∆°i
                    kh√°c, anh c≈©ng ƒëang nghƒ© v·ªÅ em.
                </p>

                <p>
                    C·∫£m ∆°n anh v√¨ ng√†y h√¥m ·∫•y ƒë√£ xu·∫•t hi·ªán trong cu·ªôc ƒë·ªùi em, ƒë·ªÉ em bi·∫øt r·∫±ng h·∫°nh ph√∫c v·∫´n ·ªü ƒë√≥ ch·ªù
                    m√¨nh t√¨m th·∫•y, v√† em v·∫´n x·ª©ng ƒë√°ng ƒë∆∞·ª£c y√™u th∆∞∆°ng. C·∫£m ∆°n anh v√¨ ƒë√£ ƒë·∫øn v√† th∆∞∆°ng em m·ªôt c√°ch tr·ªçn
                    v·∫πn, ch√¢n th√†nh. Anh l√† ng∆∞·ªùi √¢m th·∫ßm xoa d·ªãu nh·ªØng t·ªïn th∆∞∆°ng em t·ª´ng mang, kh√¥ng b·∫≠n t√¢m qu√° kh·ª©
                    em t·ªá ƒë·∫øn nh∆∞·ªùng n√†o; ng∆∞·ª£c l·∫°i, anh mang ƒë·∫øn cho em nh·ªØng ni·ªÅm vui, nh·ªØng n·ª• c∆∞·ªùi m√† l√¢u l·∫Øm r·ªìi em
                    m·ªõi ƒë∆∞·ª£c c·∫£m nh·∫≠n. Anh cho em s·ª± an to√†n v√† b√¨nh y√™n---ƒëi·ªÅu m√† em c·∫ßn nh·∫•t.
                </p>

                <p>
                    C·∫£m ∆°n anh v√¨ ƒë√£ lu√¥n ki√™n nh·∫´n, ·∫•m √°p, v√† che ch·ªü cho em. C·∫£m ∆°n anh ƒë√£ bao dung nh·ªØng th√≥i x·∫•u c·ªßa
                    em, lu√¥n kh√¥ng ƒë·ªÉ em bu·ªìn m·ªôt m√¨nh, chuy·ªán g√¨ c≈©ng c√πng em t√¨m c√°ch gi·∫£i quy·∫øt... m·∫∑c d√π c√≥ nh·ªØng
                    l√∫c nh√¨n anh ƒë√°ng gh√©t kh√¥ng ch·ªãu n·ªïi. C·∫£m ∆°n anh v√¨ ƒë√£ ƒë·∫øn qu·∫≠y ƒë·ª•c cu·ªôc s·ªëng bu·ªìn t·∫ª c·ªßa em, v√†
                    h∆°n h·∫øt---c·∫£m ∆°n v√¨ ƒë·∫øn gi·ªù v·∫´n n·∫Øm ch·∫∑t tay em kh√¥ng bu√¥ng.
                </p>

                <p>
                    Em tin m·ªôt ng√†y kh√¥ng xa, Noel s·∫Ω kh√¥ng c√≤n l√† c√¢u chuy·ªán qua m√†n h√¨nh n·ªØa, m√† s·∫Ω l√† nh·ªØng c√°i √¥m
                    g·∫ßn, l√† s·ª± b√¨nh y√™n khi c√≥ anh b√™n c·∫°nh.
                </p>

                <p>
                    Ch√∫c anh m·ªôt m√πa Gi√°ng sinh an l√†nh, ·∫•m √°p. Ch√∫c cho ch√∫ng m√¨nh ti·∫øp t·ª•c m·∫°nh m·∫Ω, y√™u th∆∞∆°ng v√† tin
                    t∆∞·ªüng.
                </p>

                <div class="signature">
                    Happy 5 months, my love.<br />
                    Em th∆∞∆°ng anh r·∫•t nhi·ªÅu. ‚ù§Ô∏è
                </div>

                <button class="arrow-button" onclick="goToGallery()" style="margin-top: 30px">
                    üëâ Anh b√© ƒë·ªçc xong ch∆∞a, ƒë·ªçc xong r·ªìi th√¨ b·∫•m qua ti·∫øp theo n√®... üëà
                </button>
            </div>
        </div>

        <!-- Page 2 - Gallery -->
        <div class="page" id="page2">
            <div class="gallery-container">
                <div class="gallery-title">‚ú® GALAXY LOVE ‚ú®</div>

                <div class="qr-code" style="margin: 20px auto; background: white; border-radius: 15px">
                    <img src="images/main-page/qr-2.png" alt="Gallery QR" loading="lazy" />
                </div>
            </div>
        </div>

        <!-- Audio -->
        <audio id="bgMusic" loop preload="none">
            <source src="nguyen-yeu-huong-ly.mp3" type="audio/mpeg" />
        </audio>

        <script>
            // Music control
            const music = document.getElementById('bgMusic')
            const musicControl = document.getElementById('musicControl')
            let isPlaying = false

            musicControl.addEventListener('click', () => {
                if (isPlaying) {
                    music.pause()
                    musicControl.classList.remove('playing')
                    musicControl.textContent = 'üéµ'
                } else {
                    music.play()
                    musicControl.classList.add('playing')
                    musicControl.textContent = 'üé∂'
                }
                isPlaying = !isPlaying
            })

            // Auto play music on first interaction
            document.addEventListener(
                'click',
                function playMusic() {
                    if (!isPlaying) {
                        music.play()
                        musicControl.classList.add('playing')
                        musicControl.textContent = 'üé∂'
                        isPlaying = true
                    }
                },
                { once: true }
            )

            // Optimized hearts animation - reduced frequency and max count
            let heartCount = 0
            const maxHearts = 15 // Limit maximum hearts on screen

            function createHeart() {
                if (heartCount >= maxHearts) return
                
                const heart = document.createElement('div')
                heart.className = 'heart'
                heart.textContent = '‚ù§Ô∏è'
                heart.style.left = Math.random() * 100 + '%'
                heart.style.animationDelay = Math.random() * 2 + 's'
                document.getElementById('heartsContainer').appendChild(heart)
                
                heartCount++

                setTimeout(() => {
                    heart.remove()
                    heartCount--
                }, 5000)
            }

            // Reduce heart creation frequency
            setInterval(createHeart, 800)

            // Show letter
            function showLetter() {
                document.getElementById('letterOverlay').classList.add('show')
            }

            // Open letter
            function openLetter() {
                const envelope = document.getElementById('envelope')
                const letterContent = document.getElementById('letterContent')

                envelope.classList.add('open')
                setTimeout(() => {
                    envelope.style.display = 'none'
                    letterContent.classList.add('show')
                }, 1000)
            }

            // Go to gallery
            function goToGallery() {
                document.getElementById('page1').classList.remove('active')
                document.getElementById('letterOverlay').classList.remove('show')
                document.getElementById('page2').classList.add('active')
            }

            // Pause animations when page is hidden to save battery
            document.addEventListener('visibilitychange', () => {
                if (document.hidden && isPlaying) {
                    music.pause()
                }
            })
        </script>
    </body>
</html>